<VirtualHost *:80>
    ServerName yourdomain.com
    RewriteEngine On
    <Directory /var/www/html>
        AllowOverride All
    </Directory>
    
    RewriteCond %{HTTPS} off
    RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</VirtualHost>

<VirtualHost *:443>
    ServerName yourdomain.com

    SSLEngine on
    SSLCertificateFile /etc/ssl/certs/yourdomain.crt
    SSLCertificateKeyFile /etc/ssl/private/yourdomain.key

    ProxyPreserveHost On
    ProxyPass / http://host.docker.internal:8000/
    ProxyPassReverse / http://host.docker.internal:8000/
</VirtualHost>